!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PathToRegexp=t():e.PathToRegexp=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e,t,r,n){for(var o=0,i=n;i<r.length;)if("\\"!==r[i]){if(r[i]===t&&0===--o)return i+1;r[i]===e&&o++,i++}else i+=2;return-1}function o(e,t){var r,o;void 0===t&&(t={});for(var i=[],a=null!=(r=t.delimiter)?r:"/",f=null!=(o=t.whitelist)?o:void 0,p=0,c=0,l="",d=!1;p<e.length;){var s="",v="",g="";if("\\"!==e[p]){if(":"===e[p]){for(;++p<e.length;){var h=e.charCodeAt(p);if(!(h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||95===h))break;v+=e[p]}v||p--}if("("===e[p]){var m=n("(",")",e,p);if(m>-1){if(g=e.slice(p+1,m-1),p=m,"?"===g[0])throw new TypeError("Path pattern must be a capturing group");if(/\((?=[^?])/.test(g)){var y=g.replace(/\((?=[^?])/,"(?:");throw new TypeError("Capturing groups are not allowed in pattern, use a non-capturing group: ("+y+")")}}}if(""!==v||""!==g){if(l.length&&!d){var x=l[l.length-1];(!f||f.indexOf(x)>-1)&&(s=x,l=l.slice(0,-1))}l.length&&(i.push(l),l="");var b="+"===e[p]||"*"===e[p],w="?"===e[p]||"*"===e[p],E=s||a;(b||w)&&p++,i.push({name:v||c++,prefix:s,delimiter:E,optional:w,repeat:b,pattern:g||"[^"+u(E===a?E:E+a)+"]+?"})}else l+=e[p++],d=!1}else p++,l+=e[p++],d=!0}return l.length&&i.push(l),i}function i(e,t){void 0===t&&(t={});var r=f(t),n=t.encode,o=void 0===n?function(e){return e}:n,i=t.validate,a=void 0===i||i,u=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",r)}));return function(t){for(var r="",n=0;n<e.length;n++){var i=e[n];if("string"!=typeof i){var f=t?t[i.name]:void 0;if(Array.isArray(f)){if(!i.repeat)throw new TypeError('Expected "'+i.name+'" to not repeat, but got an array');if(0===f.length){if(i.optional)continue;throw new TypeError('Expected "'+i.name+'" to not be empty')}for(var p=0;p<f.length;p++){var c=o(f[p],i);if(a&&!u[n].test(c))throw new TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'", but got "'+c+'"');r+=(0===p?i.prefix:i.delimiter)+c}}else if("string"!=typeof f&&"number"!=typeof f){if(!i.optional){var l=i.repeat?"an array":"a string";throw new TypeError('Expected "'+i.name+'" to be '+l)}}else{c=o(String(f),i);if(a&&!u[n].test(c))throw new TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but got "'+c+'"');r+=i.prefix+c}}else r+=i}return r}}function a(e,t,r){void 0===r&&(r={});var n=r.decode,o=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var i=n[0],a=n.index,u=Object.create(null),f=function(e){if(void 0===n[e])return"continue";var r=t[e-1];r.repeat?u[r.name]=n[e].split(r.delimiter).map((function(e){return o(e,r)})):u[r.name]=o(n[e],r)},p=1;p<n.length;p++)f(p);return{path:i,index:a,params:u}}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function f(e){return e&&e.sensitive?"":"i"}function p(e,t,r){void 0===r&&(r={});for(var n=r.strict,o=r.start,i=void 0===o||o,a=r.end,p=void 0===a||a,c=r.delimiter,l=void 0===c?"/":c,d=r.encode,s=void 0===d?function(e){return e}:d,v=("string"==typeof r.endsWith?r.endsWith.split(""):r.endsWith||[]).map(u).concat("$").join("|"),g=i?"^":"",h=0,m=e;h<m.length;h++){var y=m[h];if("string"==typeof y)g+=u(s(y));else{var x=y.repeat?"(?:"+y.pattern+")(?:"+u(y.delimiter)+"(?:"+y.pattern+"))*":y.pattern;t&&t.push(y),y.optional?y.prefix?g+="(?:"+u(y.prefix)+"("+x+"))?":g+="("+x+")?":g+=u(y.prefix)+"("+x+")"}}if(p)n||(g+="(?:"+u(l)+")?"),g+="$"===v?"$":"(?="+v+")";else{var b=e[e.length-1],w="string"==typeof b?b[b.length-1]===l:void 0===b;n||(g+="(?:"+u(l)+"(?="+v+"))?"),w||(g+="(?="+u(l)+"|"+v+")")}return new RegExp(g,f(r))}function c(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",delimiter:"",optional:!1,repeat:!1,pattern:""});return e}(e,t):Array.isArray(e)?function(e,t,r){var n=e.map((function(e){return c(e,t,r).source}));return new RegExp("(?:"+n.join("|")+")",f(r))}(e,t,r):function(e,t,r){return p(o(e,r),t,r)}(e,t,r)}t.parse=o,t.compile=function(e,t){return i(o(e,t),t)},t.tokensToFunction=i,t.match=function(e,t){var r=[];return a(c(e,r,t),r,t)},t.regexpToFunction=a,t.tokensToRegexp=p,t.pathToRegexp=c}])}));
//# sourceMappingURL=PathToRegexp.min.js.map