!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.PathToRegexp=r():e.PathToRegexp=r()}(this,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(r){return e[r]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";function n(e,r){void 0===r&&(r={});for(var t=function(e){for(var r=[],t=0;t<e.length;){var n=e[t];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)r.push({type:"CHAR",index:t,value:e[t++]});else{var i=1,o="";if("?"===e[u=t+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<e.length;)if("\\"!==e[u]){if(")"===e[u]){if(0===--i){u++;break}}else if("("===e[u]&&(i++,"?"!==e[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);o+=e[u++]}else o+=e[u++]+e[u++];if(i)throw new TypeError("Unbalanced pattern at "+t);if(!o)throw new TypeError("Missing pattern at "+t);r.push({type:"PATTERN",index:t,value:o}),t=u}else{for(var f="",u=t+1;u<e.length;){var a=e.charCodeAt(u);if(!(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||95===a))break;f+=e[u++]}if(!f)throw new TypeError("Missing parameter name at "+t);r.push({type:"NAME",index:t,value:f}),t=u}else r.push({type:"CLOSE",index:t,value:e[t++]});else r.push({type:"OPEN",index:t,value:e[t++]});else r.push({type:"ESCAPED_CHAR",index:t++,value:e[t++]});else r.push({type:"MODIFIER",index:t,value:e[t++]})}return r.push({type:"END",index:t,value:""}),r}(e),n=r.prefixes,i=void 0===n?"./":n,o="[^"+f(r.delimiter||"/#?")+"]+?",u=[],a=0,p=0,s="",c=function(e){if(p<t.length&&t[p].type===e)return t[p++].value},d=function(e){var r=c(e);if(void 0!==r)return r;var n=t[p],i=n.type,o=n.index;throw new TypeError("Unexpected "+i+" at "+o+", expected "+e)},l=function(){for(var e,r="";e=c("CHAR")||c("ESCAPED_CHAR");)r+=e;return r};p<t.length;){var v=c("CHAR"),x=c("NAME"),h=c("PATTERN");if(x||h){var m=v||"";-1===i.indexOf(m)&&(s+=m,m=""),s&&(u.push(s),s=""),u.push({name:x||a++,prefix:m,suffix:"",pattern:h||o,modifier:c("MODIFIER")||""})}else{var y=v||c("ESCAPED_CHAR");if(y)s+=y;else if(s&&(u.push(s),s=""),c("OPEN")){m=l();var g=c("NAME")||"",E=c("PATTERN")||"",T=l();d("CLOSE"),u.push({name:g||(E?a++:""),pattern:g&&!E?o:E,prefix:m,suffix:T,modifier:c("MODIFIER")||""})}else d("END")}}return u}function i(e,r){void 0===r&&(r={});var t=u(r),n=r.encode,i=void 0===n?function(e){return e}:n,o=r.validate,f=void 0===o||o,a=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",t)}));return function(r){for(var t="",n=0;n<e.length;n++){var o=e[n];if("string"!=typeof o){var u=r?r[o.name]:void 0,p="?"===o.modifier||"*"===o.modifier,s="*"===o.modifier||"+"===o.modifier;if(Array.isArray(u)){if(!s)throw new TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===u.length){if(p)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var c=0;c<u.length;c++){var d=i(u[c],o);if(f&&!a[n].test(d))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+d+'"');t+=o.prefix+d+o.suffix}}else if("string"!=typeof u&&"number"!=typeof u){if(!p){var l=s?"an array":"a string";throw new TypeError('Expected "'+o.name+'" to be '+l)}}else{d=i(String(u),o);if(f&&!a[n].test(d))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+d+'"');t+=o.prefix+d+o.suffix}}else t+=o}return t}}function o(e,r,t){void 0===t&&(t={});var n=t.decode,i=void 0===n?function(e){return e}:n;return function(t){var n=e.exec(t);if(!n)return!1;for(var o=n[0],f=n.index,u=Object.create(null),a=function(e){if(void 0===n[e])return"continue";var t=r[e-1];"*"===t.modifier||"+"===t.modifier?u[t.name]=n[e].split(t.prefix+t.suffix).map((function(e){return i(e,t)})):u[t.name]=i(n[e],t)},p=1;p<n.length;p++)a(p);return{path:o,index:f,params:u}}}function f(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function u(e){return e&&e.sensitive?"":"i"}function a(e,r,t){void 0===t&&(t={});for(var n=t.strict,i=void 0!==n&&n,o=t.start,a=void 0===o||o,p=t.end,s=void 0===p||p,c=t.encode,d=void 0===c?function(e){return e}:c,l="["+f(t.endsWith||"")+"]|$",v="["+f(t.delimiter||"/#?")+"]",x=a?"^":"",h=0,m=e;h<m.length;h++){var y=m[h];if("string"==typeof y)x+=f(d(y));else{var g=f(d(y.prefix)),E=f(d(y.suffix));if(y.pattern)if(r&&r.push(y),g||E)if("+"===y.modifier||"*"===y.modifier){var T="*"===y.modifier?"?":"";x+="(?:"+g+"((?:"+y.pattern+")(?:"+E+g+"(?:"+y.pattern+"))*)"+E+")"+T}else x+="(?:"+g+"("+y.pattern+")"+E+")"+y.modifier;else x+="("+y.pattern+")"+y.modifier;else x+="(?:"+g+E+")"+y.modifier}}if(s)i||(x+=v+"?"),x+=t.endsWith?"(?="+l+")":"$";else{var b=e[e.length-1],w="string"==typeof b?v.indexOf(b[b.length-1])>-1:void 0===b;i||(x+="(?:"+v+"(?="+l+"))?"),w||(x+="(?="+v+"|"+l+")")}return new RegExp(x,u(t))}function p(e,r,t){return e instanceof RegExp?function(e,r){if(!r)return e;for(var t=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,i=t.exec(e.source);i;)r.push({name:i[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),i=t.exec(e.source);return e}(e,r):Array.isArray(e)?function(e,r,t){var n=e.map((function(e){return p(e,r,t).source}));return new RegExp("(?:"+n.join("|")+")",u(t))}(e,r,t):function(e,r,t){return a(n(e,t),r,t)}(e,r,t)}Object.defineProperty(r,"__esModule",{value:!0}),r.pathToRegexp=r.tokensToRegexp=r.regexpToFunction=r.match=r.tokensToFunction=r.compile=r.parse=void 0,r.parse=n,r.compile=function(e,r){return i(n(e,r),r)},r.tokensToFunction=i,r.match=function(e,r){var t=[];return o(p(e,t,r),t,r)},r.regexpToFunction=o,r.tokensToRegexp=a,r.pathToRegexp=p}])}));
//# sourceMappingURL=PathToRegexp.min.js.map