!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.PathToRegexp=r():e.PathToRegexp=r()}(this,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(r){return e[r]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";function n(e,r){void 0===r&&(r={});for(var t=function(e){for(var r=[],t=0;t<e.length;){var n=e[t];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)r.push({type:"CHAR",index:t,value:e[t++]});else{var i=1,o="";if("?"===e[a=t+1])throw new TypeError('Pattern cannot start with "?" at '+a);for(;a<e.length;)if("\\"!==e[a]){if(")"===e[a]){if(0===--i){a++;break}}else if("("===e[a]&&(i++,"?"!==e[a+1]))throw new TypeError("Capturing groups are not allowed at "+a);o+=e[a++]}else o+=e[a++]+e[a++];if(i)throw new TypeError("Unbalanced pattern at "+t);if(!o)throw new TypeError("Missing pattern at "+t);r.push({type:"PATTERN",index:t,value:o}),t=a}else{for(var f="",a=t+1;a<e.length;){var u=e.charCodeAt(a);if(!(u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||95===u))break;f+=e[a++]}if(!f)throw new TypeError("Missing parameter name at "+t);r.push({type:"NAME",index:t,value:f}),t=a}else r.push({type:"CLOSE",index:t,value:e[t++]});else r.push({type:"OPEN",index:t,value:e[t++]});else r.push({type:"ESCAPED_CHAR",index:t++,value:e[t++]});else r.push({type:"MODIFIER",index:t,value:e[t++]})}return r.push({type:"END",index:t,value:""}),r}(e),n=r.prefixes,i=void 0===n?"./":n,o="[^"+f(r.delimiter||"/#?")+"]+?",a=[],u=0,p=0,s="",d=function(e){if(p<t.length&&t[p].type===e)return t[p++].value},c=function(e){var r=d(e);if(void 0!==r)return r;var n=t[p],i=n.type,o=n.index;throw new TypeError("Unexpected "+i+" at "+o+", expected "+e)},l=function(){for(var e,r="";e=d("CHAR")||d("ESCAPED_CHAR");)r+=e;return r};p<t.length;){var v=d("CHAR"),x=d("NAME"),h=d("PATTERN");if(x||h){var y=v||"";-1===i.indexOf(y)&&(s+=y,y=""),s&&(a.push(s),s=""),a.push({name:x||u++,prefix:y,suffix:"",pattern:h||o,modifier:d("MODIFIER")||""})}else{var m=v||d("ESCAPED_CHAR");if(m)s+=m;else if(s&&(a.push(s),s=""),d("OPEN")){y=l();var g=d("NAME")||"",E=d("PATTERN")||"",b=l();c("CLOSE"),a.push({name:g||(E?u++:""),pattern:g&&!E?o:E,prefix:y,suffix:b,modifier:d("MODIFIER")||""})}else c("END")}}return a}function i(e,r){void 0===r&&(r={});var t=a(r),n=r.encode,i=void 0===n?function(e){return e}:n,o=r.validate,f=void 0===o||o,u=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",t)}));return function(r){for(var t="",n=0;n<e.length;n++){var o=e[n];if("string"!=typeof o){var a=r?r[o.name]:void 0,p="?"===o.modifier||"*"===o.modifier,s="*"===o.modifier||"+"===o.modifier;if(Array.isArray(a)){if(!s)throw new TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===a.length){if(p)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var d=0;d<a.length;d++){var c=i(a[d],o);if(f&&!u[n].test(c))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+c+'"');t+=o.prefix+c+o.suffix}}else if("string"!=typeof a&&"number"!=typeof a){if(!p){var l=s?"an array":"a string";throw new TypeError('Expected "'+o.name+'" to be '+l)}}else{c=i(String(a),o);if(f&&!u[n].test(c))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+c+'"');t+=o.prefix+c+o.suffix}}else t+=o}return t}}function o(e,r,t){void 0===t&&(t={});var n=t.decode,i=void 0===n?function(e){return e}:n;return function(t){var n=e.exec(t);if(!n)return!1;for(var o=n[0],f=n.index,a=Object.create(null),u=function(e){if(void 0===n[e])return"continue";var t=r[e-1];"*"===t.modifier||"+"===t.modifier?a[t.name]=n[e].split(t.prefix+t.suffix).map((function(e){return i(e,t)})):a[t.name]=i(n[e],t)},p=1;p<n.length;p++)u(p);return{path:o,index:f,params:a}}}function f(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function a(e){return e&&e.sensitive?"":"i"}function u(e,r,t){void 0===t&&(t={});for(var n=t.strict,i=void 0!==n&&n,o=t.start,u=void 0===o||o,p=t.end,s=void 0===p||p,d=t.encode,c=void 0===d?function(e){return e}:d,l="["+f(t.endsWith||"")+"]|$",v="["+f(t.delimiter||"/#?")+"]",x=u?"^":"",h=0,y=e;h<y.length;h++){var m=y[h];if("string"==typeof m)x+=f(c(m));else{var g=f(c(m.prefix)),E=f(c(m.suffix));if(m.pattern)if(r&&r.push(m),g||E)if("+"===m.modifier||"*"===m.modifier){var b="*"===m.modifier?"?":"";x+="(?:"+g+"((?:"+m.pattern+")(?:"+E+g+"(?:"+m.pattern+"))*)"+E+")"+b}else x+="(?:"+g+"("+m.pattern+")"+E+")"+m.modifier;else x+="("+m.pattern+")"+m.modifier;else x+="(?:"+g+E+")"+m.modifier}}if(s)i||(x+=v+"?"),x+=t.endsWith?"(?="+l+")":"$";else{var w=e[e.length-1],T="string"==typeof w?v.indexOf(w[w.length-1])>-1:void 0===w;i||(x+="(?:"+v+"(?="+l+"))?"),T||(x+="(?="+v+"|"+l+")")}return new RegExp(x,a(t))}function p(e,r,t){return e instanceof RegExp?function(e,r){if(!r)return e;var t=e.source.match(/\((?!\?)/g);if(t)for(var n=0;n<t.length;n++)r.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,r):Array.isArray(e)?function(e,r,t){var n=e.map((function(e){return p(e,r,t).source}));return new RegExp("(?:"+n.join("|")+")",a(t))}(e,r,t):function(e,r,t){return u(n(e,t),r,t)}(e,r,t)}Object.defineProperty(r,"__esModule",{value:!0}),r.parse=n,r.compile=function(e,r){return i(n(e,r),r)},r.tokensToFunction=i,r.match=function(e,r){var t=[];return o(p(e,t,r),t,r)},r.regexpToFunction=o,r.tokensToRegexp=u,r.pathToRegexp=p}])}));
//# sourceMappingURL=PathToRegexp.min.js.map