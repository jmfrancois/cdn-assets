/*! @sentry/browser 5.1.0 (01c6fc78) | https://github.com/getsentry/sentry-javascript */
var Sentry=function(t){"use strict";var n,e,r;function i(t,n,e,r){return new(e||(e=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function c(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){t.done?i(t.value):new e(function(n){n(t.value)}).then(o,c)}u((r=r.apply(t,n||[])).next())})}!function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"}(n||(n={})),(e=t.Severity||(t.Severity={})).Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical",function(t){t.fromString=function(n){switch(n){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(t.Severity||(t.Severity={})),(r=t.Status||(t.Status={})).Unknown="unknown",r.Skipped="skipped",r.Success="success",r.RateLimit="rate_limit",r.Invalid="invalid",r.Failed="failed",function(t){t.fromHttpCode=function(n){return n>=200&&n<300?t.Success:429===n?t.RateLimit:n>=400&&n<500?t.Invalid:n>=500?t.Failed:t.Unknown}}(t.Status||(t.Status={}));class s extends Error{constructor(t){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}function o(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function c(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function u(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object String]"===Object.prototype.toString.call(t)}function h(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}function f(t){return Boolean(t&&t.then&&"function"==typeof t.then)}const d={};function p(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:d}function v(){const t=p(),n=t.crypto||t.msCrypto;if(void 0!==n&&n.getRandomValues){const t=new Uint16Array(8);n.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=t=>{let n=t.toString(16);for(;n.length<4;)n=`0${n}`;return n};return e(t[0])+e(t[1])+e(t[2])+e(t[3])+e(t[4])+e(t[5])+e(t[6])+e(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=16*Math.random()|0;return("x"===t?n:3&n|8).toString(16)})}function m(t){if(!t)return{};const n=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!n)return{};const e=n[6]||"",r=n[8]||"";return{host:n[4],path:n[5],protocol:n[2],relative:n[5]+e+r}}function y(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){const n=t.exception.values[0];return n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function b(t){const n=p();if(!("console"in n))return t();const e=n.console,r={};["debug","info","warn","error","log","assert"].forEach(t=>{t in n.console&&e[t].__sentry__&&(r[t]=e[t].__sentry_wrapped__,e[t]=e[t].__sentry_original__)});const i=t();return Object.keys(r).forEach(t=>{e[t]=r[t]}),i}function g(t,n,e,r={handled:!0,type:"generic"}){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||n||"",t.exception.values[0].type=t.exception.values[0].type||e||"Error",t.exception.values[0].mechanism=t.exception.values[0].mechanism||r}const w=p(),E="Sentry Logger ";w.__SENTRY__=w.__SENTRY__||{};const j=w.__SENTRY__.logger||(w.__SENTRY__.logger=new class{constructor(){this.t=!1}disable(){this.t=!1}enable(){this.t=!0}log(...t){this.t&&b(()=>{w.console.log(`${E}[Log]: ${t.join(" ")}`)})}warn(...t){this.t&&b(()=>{w.console.warn(`${E}[Warn]: ${t.join(" ")}`)})}error(...t){this.t&&b(()=>{w.console.error(`${E}[Error]: ${t.join(" ")}`)})}});class ${constructor(){this.i="function"==typeof WeakSet,this.s=this.i?new WeakSet:[]}memoize(t){if(this.i)return!!this.s.has(t)||(this.s.add(t),!1);for(let n=0;n<this.s.length;n++){if(this.s[n]===t)return!0}return this.s.push(t),!1}unmemoize(t){if(this.i)this.s.delete(t);else for(let n=0;n<this.s.length;n++)if(this.s[n]===t){this.s.splice(n,1);break}}}function O(t,n,e){if(!(n in t))return;const r=t[n],i=e(r);"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:r},__sentry_wrapped__:{enumerable:!1,value:i}})),t[n]=i}function _(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function x(t,n=3,e=102400){const r=T(t,n);return _(r)>e?x(t,n-1,e):r}function S(t,n){return"domain"===n&&"object"==typeof t&&t.o?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":"undefined"!=typeof Event&&t instanceof Event?Object.getPrototypeOf(t)?t.constructor.name:"Event":l(e=t)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e?"[SyntheticEvent]":Number.isNaN(t)?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${t.name||"<unknown-function-name>"}]`:t;var e}function k(t,n,e=1/0,r=new $){if(0===e)return function(t){const n=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===n)return"[Object]";if("[object Array]"===n)return"[Array]";const e=S(t);return h(e)?e:n}(n);if(null!=n&&"function"==typeof n.toJSON)return n.toJSON();const i=S(n,t);if(h(i))return i;const s=o(n)?function(t){const n={message:t.message,name:t.name,stack:t.stack};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}(n):n,c=Array.isArray(n)?[]:{};if(r.memoize(n))return"[Circular ~]";for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(c[t]=k(t,s[t],e-1,r));return r.unmemoize(n),c}function T(t,n){try{return JSON.parse(JSON.stringify(t,(t,e)=>k(t,e,n)))}catch(t){return"**non-serializable**"}}class R{constructor(t){this.u=t,this.h=[]}isReady(){return void 0===this.u||this.length()<this.u}add(t){return i(this,void 0,void 0,function*(){return this.isReady()?(-1===this.h.indexOf(t)&&this.h.push(t),t.then(()=>i(this,void 0,void 0,function*(){return this.remove(t)})).catch(()=>i(this,void 0,void 0,function*(){return this.remove(t).catch(()=>{})})),t):Promise.reject(new s("Not adding Promise due to buffer limit reached."))})}remove(t){return i(this,void 0,void 0,function*(){return this.h.splice(this.h.indexOf(t),1)[0]})}length(){return this.h.length}drain(t){return i(this,void 0,void 0,function*(){return new Promise(n=>{const e=setTimeout(()=>{t&&t>0&&n(!1)},t);Promise.all(this.h).then(()=>{clearTimeout(e),n(!0)}).catch(()=>{n(!0)})})})}}function I(t,n=0){return 0===n?t:t.length<=n?t:`${t.substr(0,n)}...`}function D(t,n){if(!Array.isArray(t))return"";const e=[];for(let n=0;n<t.length;n++){const r=t[n];try{e.push(String(r))}catch(t){e.push("[value cannot be serialized]")}}return e.join(n)}function F(t,n=40){if(!t.length)return"[object has no keys]";if(t[0].length>=n)return I(t[0],n);for(let e=t.length;e>0;e--){const r=t.slice(0,e).join(", ");if(!(r.length>n))return e===t.length?r:I(r,n)}return""}function C(){if(!("fetch"in p()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function M(){if(!C())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var L;!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(L||(L={}));class U{constructor(t){this.l=L.PENDING,this.p=[],this.v=(t=>{this.m(t,L.RESOLVED)}),this.g=(t=>{this.m(t,L.REJECTED)}),this.m=((t,n)=>{this.l===L.PENDING&&(f(t)?t.then(this.v,this.g):(this.j=t,this.l=n,this.$()))}),this.$=(()=>{this.l!==L.PENDING&&(this.l===L.REJECTED?this.p.forEach(t=>t.onFail&&t.onFail(this.j)):this.p.forEach(t=>t.onSuccess&&t.onSuccess(this.j)),this.p=[])}),this.O=(t=>{this.p=this.p.concat(t),this.$()});try{t(this.v,this.g)}catch(t){this.g(t)}}then(t,n){return new U((e,r)=>{this.O({onFail:t=>{if(n)try{return void e(n(t))}catch(t){return void r(t)}else r(t)},onSuccess:n=>{if(t)try{return void e(t(n))}catch(t){return void r(t)}else e(n)}})})}catch(t){return this.then(t=>t,t)}toString(){return"[object SyncPromise]"}static resolve(t){return new U(n=>{n(t)})}static reject(t){return new U((n,e)=>{e(t)})}}class A{constructor(){this._=!1,this.S=[],this.k=[],this.T=[],this.R={},this.I={},this.D={},this.F={}}addScopeListener(t){this.S.push(t)}addEventProcessor(t){return this.k.push(t),this}C(){this._||(this._=!0,setTimeout(()=>{this.S.forEach(t=>{t(this)}),this._=!1}))}M(t,n,e,r=0){return new U((i,s)=>{const o=t[r];if(null===n||"function"!=typeof o)i(n);else{const c=o(Object.assign({},n),e);f(c)?c.then(n=>this.M(t,n,e,r+1).then(i)).catch(s):this.M(t,c,e,r+1).then(i).catch(s)}})}setUser(t){return this.R=T(t),this.C(),this}setTags(t){return this.I=Object.assign({},this.I,T(t)),this.C(),this}setTag(t,n){return this.I=Object.assign({},this.I,{[t]:T(n)}),this.C(),this}setExtras(t){return this.D=Object.assign({},this.D,T(t)),this.C(),this}setExtra(t,n){return this.D=Object.assign({},this.D,{[t]:T(n)}),this.C(),this}setFingerprint(t){return this.L=T(t),this.C(),this}setLevel(t){return this.U=T(t),this.C(),this}setContext(t,n){return this.F[t]=n?T(n):void 0,this.C(),this}static clone(t){const n=new A;return Object.assign(n,t,{S:[]}),t&&(n.T=[...t.T],n.I=Object.assign({},t.I),n.D=Object.assign({},t.D),n.F=Object.assign({},t.F),n.R=t.R,n.U=t.U,n.L=t.L,n.k=[...t.k]),n}clear(){return this.T=[],this.I={},this.D={},this.R={},this.F={},this.U=void 0,this.L=void 0,this.C(),this}addBreadcrumb(t,n){const e=(new Date).getTime()/1e3,r=Object.assign({timestamp:e},t);return this.T=void 0!==n&&n>=0?[...this.T,T(r)].slice(-n):[...this.T,T(r)],this.C(),this}clearBreadcrumbs(){return this.T=[],this.C(),this}A(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this.L&&(t.fingerprint=t.fingerprint.concat(this.L)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}applyToEvent(t,n){return this.D&&Object.keys(this.D).length&&(t.extra=Object.assign({},this.D,t.extra)),this.I&&Object.keys(this.I).length&&(t.tags=Object.assign({},this.I,t.tags)),this.R&&Object.keys(this.R).length&&(t.user=Object.assign({},this.R,t.user)),this.F&&Object.keys(this.F).length&&(t.contexts=Object.assign({},this.F,t.contexts)),this.U&&(t.level=this.U),this.A(t),t.breadcrumbs=[...t.breadcrumbs||[],...this.T],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this.M([...P(),...this.k],t,n)}}function P(){const t=p();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function N(t){P().push(t)}const B=3,H=30,q=100;class W{constructor(t,n=new A,e=B){this.P=e,this.N=[],this.N.push({client:t,scope:n})}B(t,...n){const e=this.getStackTop();e&&e.client&&e.client[t]&&e.client[t](...n,e.scope)}isOlderThan(t){return this.P<t}bindClient(t){this.getStackTop().client=t}pushScope(){const t=this.getStack(),n=t.length>0?t[t.length-1].scope:void 0,e=A.clone(n);return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return void 0!==this.getStack().pop()}withScope(t){const n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this.N}getStackTop(){return this.N[this.N.length-1]}captureException(t,n){const e=this.H=v();return this.B("captureException",t,Object.assign({},n,{event_id:e})),e}captureMessage(t,n,e){const r=this.H=v();return this.B("captureMessage",t,n,Object.assign({},e,{event_id:r})),r}captureEvent(t,n){const e=this.H=v();return this.B("captureEvent",t,Object.assign({},n,{event_id:e})),e}lastEventId(){return this.H}addBreadcrumb(t,n){const e=this.getStackTop();if(!e.scope||!e.client)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:i=H}=e.client.getOptions&&e.client.getOptions()||{};if(i<=0)return;const s=(new Date).getTime()/1e3,o=Object.assign({timestamp:s},t),c=r?b(()=>r(o,n)):o;null!==c&&e.scope.addBreadcrumb(c,Math.min(i,q))}configureScope(t){const n=this.getStackTop();n.scope&&n.client&&t(n.scope)}run(t){const n=z(this);try{t(this)}finally{z(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch(n){return j.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}}function X(){const t=p();return t.__SENTRY__=t.__SENTRY__||{hub:void 0},t}function z(t){const n=X(),e=V(n);return K(n,t),e}function G(){const t=X();J(t)&&!V(t).isOlderThan(B)||K(t,new W);try{const r=(n=module,e="domain",n.require(e)).active;if(!r)return V(t);if(!J(r)||V(r).isOlderThan(B)){const n=V(t).getStackTop();K(r,new W(n.client,A.clone(n.scope)))}return V(r)}catch(n){return V(t)}var n,e}function J(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function V(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new W,t.__SENTRY__.hub)}function K(t,n){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=n,!0)}function Z(t,...n){const e=G();if(e&&e[t])return e[t](...n);throw new Error(`No hub defined or ${t} was not found on the hub, please open a bug report.`)}function captureException(t){let n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return Z("captureException",t,{originalException:t,syntheticException:n})}function Q(t){Z("withScope",t)}const Y=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,tt="Invalid Dsn";class nt{constructor(t){"string"==typeof t?this.q(t):this.W(t),this.X()}toString(t=!1){const{host:n,path:e,pass:r,port:i,projectId:s,protocol:o,user:c}=this;return`${o}://${c}${t&&r?`:${r}`:""}`+`@${n}${i?`:${i}`:""}/${e?`${e}/`:e}${s}`}q(t){const n=Y.exec(t);if(!n)throw new s(tt);const[e,r,i="",o,c="",u]=n.slice(1);let a="",h=u;const l=h.split("/");l.length>1&&(a=l.slice(0,-1).join("/"),h=l.pop()),Object.assign(this,{host:o,pass:i,path:a,projectId:h,port:c,protocol:e,user:r})}W(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId}X(){if(["protocol","user","host","projectId"].forEach(t=>{if(!this[t])throw new s(tt)}),"http"!==this.protocol&&"https"!==this.protocol)throw new s(tt);if(this.port&&Number.isNaN(parseInt(this.port,10)))throw new s(tt)}}const et="7";class rt{constructor(t){this.dsn=t,this.G=new nt(t)}getDsn(){return this.G}getStoreEndpoint(){return`${this.J()}${this.getStoreEndpointPath()}`}getStoreEndpointWithUrlEncodedAuth(){const t={sentry_key:this.G.user,sentry_version:et};return`${this.getStoreEndpoint()}?${n=t,Object.keys(n).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`).join("&")}`;var n}J(){const t=this.G,n=t.protocol?`${t.protocol}:`:"",e=t.port?`:${t.port}`:"";return`${n}//${t.host}${e}`}getStoreEndpointPath(){const t=this.G;return`${t.path?`/${t.path}`:""}/api/${t.projectId}/store/`}getRequestHeaders(t,n){const e=this.G,r=[`Sentry sentry_version=${et}`];return r.push(`sentry_timestamp=${(new Date).getTime()}`),r.push(`sentry_client=${t}/${n}`),r.push(`sentry_key=${e.user}`),e.pass&&r.push(`sentry_secret=${e.pass}`),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}}getReportDialogEndpoint(t={}){const n=this.G,e=`${this.J()}${n.path?`/${n.path}`:""}/api/embed/error-page/`,r=[];r.push(`dsn=${n.toString()}`);for(const n in t)if("user"===n){if(!t.user)continue;t.user.name&&r.push(`name=${encodeURIComponent(t.user.name)}`),t.user.email&&r.push(`email=${encodeURIComponent(t.user.email)}`)}else r.push(`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`);return r.length?`${e}?${r.join("&")}`:e}}const it=[];function st(t){const n={};return function(t){const n=t.defaultIntegrations&&[...t.defaultIntegrations]||[],e=t.integrations;let r=[];if(Array.isArray(e)){const t=e.map(t=>t.name),i=[];n.forEach(n=>{-1===t.indexOf(n.name)&&-1===i.indexOf(n.name)&&(r.push(n),i.push(n.name))}),e.forEach(t=>{-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))})}else{if("function"!=typeof e)return[...n];r=e(n),r=Array.isArray(r)?r:[r]}return r}(t).forEach(t=>{n[t.name]=t,function(t){-1===it.indexOf(t.name)&&(t.setupOnce(N,G),it.push(t.name),j.log(`Integration installed: ${t.name}`))}(t)}),n}class ot{constructor(t,n){this.V=!1,this.K=new t(n),this.Z=n,n.dsn&&(this.Y=new nt(n.dsn)),this.tt=st(this.Z)}captureException(t,n,e){let r=n&&n.event_id;return this.V=!0,this.nt().eventFromException(t,n).then(t=>this.et(t,n,e)).then(t=>{r=t&&t.event_id,this.V=!1}).catch(t=>{j.error(t),this.V=!1}),r}captureMessage(t,n,e,r){let i=e&&e.event_id;return this.V=!0,(h(t)?this.nt().eventFromMessage(`${t}`,n,e):this.nt().eventFromException(t,e)).then(t=>this.et(t,e,r)).then(t=>{i=t&&t.event_id,this.V=!1}).catch(t=>{j.error(t),this.V=!1}),i}captureEvent(t,n,e){let r=n&&n.event_id;return this.V=!0,this.et(t,n,e).then(t=>{r=t&&t.event_id,this.V=!1}).catch(t=>{j.error(t),this.V=!1}),r}getDsn(){return this.Y}getOptions(){return this.Z}flush(t){return i(this,void 0,void 0,function*(){const n=yield this.rt(t);this.it&&clearInterval(this.it);const e=yield this.nt().getTransport().close(t);return n&&e})}close(t){return i(this,void 0,void 0,function*(){const n=yield this.flush(t);return this.getOptions().enabled=!1,n})}getIntegrations(){return this.tt||{}}getIntegration(t){try{return this.tt[t.id]||null}catch(n){return j.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}rt(t){return i(this,void 0,void 0,function*(){return new Promise(n=>{let e=0;this.it&&clearInterval(this.it),this.it=setInterval(()=>{this.V?(e+=1,t&&e>=t&&n(!1)):n(!0)},1)})})}nt(){return this.K}st(){return!1!==this.getOptions().enabled&&void 0!==this.Y}ot(t,n,e){const{environment:r,release:i,dist:s,maxValueLength:o=250}=this.getOptions(),c=Object.assign({},t);void 0===c.environment&&void 0!==r&&(c.environment=r),void 0===c.release&&void 0!==i&&(c.release=i),void 0===c.dist&&void 0!==s&&(c.dist=s),c.message&&(c.message=I(c.message,o));const u=c.exception&&c.exception.values&&c.exception.values[0];u&&u.value&&(u.value=I(u.value,o));const a=c.request;a&&a.url&&(a.url=I(a.url,o)),void 0===c.event_id&&(c.event_id=v()),this.ct(c.sdk);let h=U.resolve(c);return n&&(h=n.applyToEvent(c,e)),h}ct(t){const n=Object.keys(this.tt);t&&n.length>0&&(t.integrations=n)}et(t,n,e){const{beforeSend:r,sampleRate:i}=this.getOptions();return this.st()?"number"==typeof i&&Math.random()>i?U.reject("This event has been sampled, will not send event."):new U((i,s)=>{this.ot(t,e,n).then(t=>{if(null===t)return void s("An event processor returned null, will not send event.");let e=t;try{if(n&&n.data&&!0===n.data.__sentry__||!r)return this.nt().sendEvent(e),void i(e);const o=r(t,n);if(void 0===o)j.error("`beforeSend` method has to return `null` or a valid event.");else if(f(o))this.ut(o,i,s);else{if(null===(e=o))return j.log("`beforeSend` returned `null`, will not send event."),void i(null);this.nt().sendEvent(e),i(e)}}catch(t){this.captureException(t,{data:{__sentry__:!0},originalException:t}),s("`beforeSend` throw an error, will not send event.")}})}):U.reject("SDK not enabled, will not send event.")}ut(t,n,e){t.then(t=>{null!==t?(this.nt().sendEvent(t),n(t)):e("`beforeSend` returned `null`, will not send event.")}).catch(t=>{e(`beforeSend rejected with ${t}`)})}}class ct{sendEvent(n){return i(this,void 0,void 0,function*(){return Promise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:t.Status.Skipped})})}close(t){return i(this,void 0,void 0,function*(){return Promise.resolve(!0)})}}class ut{constructor(t){this.Z=t,this.Z.dsn||j.warn("No DSN provided, backend will not do anything."),this.at=this.ht()}ht(){return new ct}eventFromException(t,n){throw new s("Backend has to implement `eventFromException` method")}eventFromMessage(t,n,e){throw new s("Backend has to implement `eventFromMessage` method")}sendEvent(t){this.at.sendEvent(t).catch(t=>{j.error(`Error while sending event: ${t}`)})}getTransport(){return this.at}}let at;class ht{constructor(){this.name=ht.id}setupOnce(){at=Function.prototype.toString,Function.prototype.toString=function(...t){const n=this.__sentry__?this.__sentry_original__:this;return at.apply(n,t)}}}ht.id="FunctionToString";const lt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class ft{constructor(t={}){this.Z=t,this.name=ft.id}setupOnce(){N(t=>{const n=G();if(!n)return t;const e=n.getIntegration(ft);if(e){const r=n.getClient(),i=r?r.getOptions():{},s=e.lt(i);if(e.ft(t,s))return null}return t})}ft(t,n){return this.dt(t,n)?(j.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${y(t)}`),!0):this.pt(t,n)?(j.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${y(t)}`),!0):this.vt(t,n)?(j.warn(`Event dropped due to being matched by \`blacklistUrls\` option.\nEvent: ${y(t)}.\nUrl: ${this.yt(t)}`),!0):!this.bt(t,n)&&(j.warn(`Event dropped due to not being matched by \`whitelistUrls\` option.\nEvent: ${y(t)}.\nUrl: ${this.yt(t)}`),!0)}dt(t,n={}){if(!n.ignoreInternal)return!1;try{return"SentryError"===t.exception.values[0].type}catch(t){return!1}}pt(t,n={}){return!(!n.ignoreErrors||!n.ignoreErrors.length)&&this.gt(t).some(t=>n.ignoreErrors.some(n=>this.wt(t,n)))}vt(t,n={}){if(!n.blacklistUrls||!n.blacklistUrls.length)return!1;const e=this.yt(t);return!!e&&n.blacklistUrls.some(t=>this.wt(e,t))}bt(t,n={}){if(!n.whitelistUrls||!n.whitelistUrls.length)return!0;const e=this.yt(t);return!e||n.whitelistUrls.some(t=>this.wt(e,t))}lt(t={}){return{blacklistUrls:[...this.Z.blacklistUrls||[],...t.blacklistUrls||[]],ignoreErrors:[...this.Z.ignoreErrors||[],...t.ignoreErrors||[],...lt],ignoreInternal:void 0===this.Z.ignoreInternal||this.Z.ignoreInternal,whitelistUrls:[...this.Z.whitelistUrls||[],...t.whitelistUrls||[]]}}wt(t,n){return e=n,"[object RegExp]"===Object.prototype.toString.call(e)?n.test(t):"string"==typeof n&&t.includes(n);var e}gt(t){if(t.message)return[t.message];if(t.exception)try{const{type:n,value:e}=t.exception.values[0];return[`${e}`,`${n}: ${e}`]}catch(n){return j.error(`Cannot extract message for event ${y(t)}`),[]}return[]}yt(t){try{if(t.stacktrace){const n=t.stacktrace.frames;return n[n.length-1].filename}if(t.exception){const n=t.exception.values[0].stacktrace.frames;return n[n.length-1].filename}return null}catch(n){return j.error(`Cannot extract url for event ${y(t)}`),null}}}ft.id="InboundFilters";var dt=Object.freeze({FunctionToString:ht,InboundFilters:ft}),pt=p(),vt={report:!1,collectWindowErrors:!1,computeStackTrace:!1,linesOfContext:!1},mt="?",yt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function bt(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function gt(){return"undefined"==typeof document||null==document.location?"":document.location.href}vt.report=function(){var t,n,e=[],r=null,i=null;function s(t,n,r){var i=null;if(!n||vt.collectWindowErrors){for(var s in e)if(bt(e,s))try{e[s](t,n,r)}catch(t){i=t}if(i)throw i}}function u(n,e,r,u,a){var l=null;if(a=c(a)?a.error:a,n=c(n)?n.message:n,i)vt.computeStackTrace.augmentStackTraceWithInitialElement(i,e,r,n),h();else if(a&&o(a))(l=vt.computeStackTrace(a)).mechanism="onerror",s(l,!0,a);else{var f,d={url:e,line:r,column:u},p=n;if("[object String]"==={}.toString.call(n)){var v=n.match(yt);v&&(f=v[1],p=v[2])}d.func=mt,d.context=null,s(l={name:f,message:p,mode:"onerror",mechanism:"onerror",stack:[Object.assign({},d,{url:d.url||gt()})]},!0,null)}return!!t&&t.apply(this,arguments)}function a(t){var n=t&&(t.detail?t.detail.reason:t.reason)||t,e=vt.computeStackTrace(n);e.mechanism="onunhandledrejection",s(e,!0,n)}function h(){var t=i,n=r;i=null,r=null,s(t,!1,n)}function l(t){if(i){if(r===t)return;h()}var n=vt.computeStackTrace(t);throw i=n,r=t,setTimeout(function(){r===t&&h()},n.incomplete?2e3:0),t}return l.subscribe=function(t){e.push(t)},l.installGlobalHandler=function(){!0!==n&&(t=pt.onerror,pt.onerror=u,n=!0)},l.installGlobalUnhandledRejectionHandler=function(){pt.onunhandledrejection=a},l}(),vt.computeStackTrace=function(){function t(t){if(!t.stack)return null;for(var n,e,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,a=t.stack.split("\n"),h=[],l=/^(.*) is undefined$/.exec(t.message),f=0,d=a.length;f<d;++f){if(e=i.exec(a[f])){var p=e[2]&&0===e[2].indexOf("native");e[2]&&0===e[2].indexOf("eval")&&(n=u.exec(e[2]))&&(e[2]=n[1]),r={url:p?null:e[2],func:e[1]||mt,args:p?[e[2]]:[],line:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}else if(e=o.exec(a[f]))r={url:e[2],func:e[1]||mt,args:[],line:+e[3],column:e[4]?+e[4]:null};else{if(!(e=s.exec(a[f])))continue;e[3]&&e[3].indexOf(" > eval")>-1&&(n=c.exec(e[3]))?e[3]=n[1]:0!==f||e[5]||void 0===t.columnNumber||(h[0].column=t.columnNumber+1),r={url:e[3],func:e[1]||mt,args:e[2]?e[2].split(","):[],line:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}!r.func&&r.line&&(r.func=mt),r.context=null,h.push(r)}return h.length?(h[0]&&h[0].line&&!h[0].column&&l&&(h[0].column=null),{mode:"stack",name:t.name,message:t.message,stack:h}):null}function n(t,n,e,r){var i={url:n,line:e};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=mt),i.context||(i.context=null),/ '([^']+)' /.exec(r)&&(i.column=null),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,t.stack[0].context=i.context,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function e(t,i){for(var s,o,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],a={},h=!1,l=e.caller;l&&!h;l=l.caller)if(l!==r&&l!==vt.report){if(o={url:null,func:mt,args:[],line:null,column:null},l.name?o.func=l.name:(s=c.exec(l.toString()))&&(o.func=s[1]),void 0===o.func)try{o.func=s.input.substring(0,s.input.indexOf("{"))}catch(t){}a[""+l]?h=!0:a[""+l]=!0,u.push(o)}i&&u.splice(0,i);var f={mode:"callers",name:t.name,message:t.message,stack:u};return n(f,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),f}function r(n,r){var i=null;r=null==r?0:+r;try{if(i=function(t){var n=t.stacktrace;if(n){for(var e,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,s=n.split("\n"),o=[],c=0;c<s.length;c+=2){var u=null;(e=r.exec(s[c]))?u={url:e[2],line:+e[1],column:null,func:e[3],args:[]}:(e=i.exec(s[c]))&&(u={url:e[6],line:+e[1],column:+e[2],func:e[3]||e[4],args:e[5]?e[5].split(","):[]}),u&&(!u.func&&u.line&&(u.func=mt),u.line&&(u.context=null),u.context||(u.context=[s[c+1]]),o.push(u))}return o.length?{mode:"stacktrace",name:t.name,message:t.message,stack:o}:null}}(n))return i}catch(t){}try{if(i=t(n))return i}catch(t){}try{if(i=function(t){var n=t.message.split("\n");if(n.length<4)return null;var e,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of function script\s*$/i,o=[],c=pt&&pt.document&&pt.document.getElementsByTagName("script"),u=[];for(var a in c)bt(c,a)&&!c[a].src&&u.push(c[a]);for(var h=2;h<n.length;h+=2){var l=null;(e=r.exec(n[h]))?l={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=i.exec(n[h]))?l={url:e[3],func:e[4],args:[],line:+e[1],column:null}:(e=s.exec(n[h]))&&(l={url:gt().replace(/#.*$/,""),func:"",args:[],line:e[1],column:null}),l&&(l.func||(l.func=mt),l.context=[n[h+1]],o.push(l))}return o.length?{mode:"multiline",name:t.name,message:n[0],stack:o}:null}(n))return i}catch(t){}try{if(i=e(n,r+1))return i}catch(t){}return{original:n,name:n.name,message:n.message,mode:"failed"}}return r.augmentStackTraceWithInitialElement=n,r.computeStackTraceFromStackProp=t,r}(),vt.collectWindowErrors=!0,vt.linesOfContext=11;const wt=vt.report.subscribe,Et=vt.report.installGlobalHandler,jt=vt.report.installGlobalUnhandledRejectionHandler,$t=vt.computeStackTrace,Ot=50;function _t(t){const n=St(t.stack),e={type:t.name,value:t.message};return n&&n.length&&(e.stacktrace={frames:n}),void 0===e.type&&""===e.value&&(e.value="Unrecoverable error caught"),e}function xt(t){return{exception:{values:[_t(t)]}}}function St(t){if(!t||!t.length)return[];let n=t;const e=n[0].func||"",r=n[n.length-1].func||"";return(e.includes("captureMessage")||e.includes("captureException"))&&(n=n.slice(1)),r.includes("sentryWrapped")&&(n=n.slice(0,-1)),n.map(t=>({colno:t.column,filename:t.url||n[0].url,function:t.func||"?",in_app:!0,lineno:t.line})).slice(0,Ot).reverse()}class kt{constructor(t){this.options=t,this.h=new R(30),this.url=new rt(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}sendEvent(t){return i(this,void 0,void 0,function*(){throw new s("Transport Class has to implement `sendEvent` method")})}close(t){return i(this,void 0,void 0,function*(){return this.h.drain(t)})}}const Tt=p();class Rt extends kt{sendEvent(n){return i(this,void 0,void 0,function*(){const e={body:JSON.stringify(n),method:"POST",referrerPolicy:M()?"origin":""};return this.h.add(Tt.fetch(this.url,e).then(n=>({status:t.Status.fromHttpCode(n.status)})))})}}class It extends kt{sendEvent(n){return i(this,void 0,void 0,function*(){return this.h.add(new Promise((e,r)=>{const i=new XMLHttpRequest;i.onreadystatechange=(()=>{4===i.readyState&&(200===i.status&&e({status:t.Status.fromHttpCode(i.status)}),r(i))}),i.open("POST",this.url),i.send(JSON.stringify(n))}))})}}var Dt=Object.freeze({BaseTransport:kt,FetchTransport:Rt,XHRTransport:It});class Ft extends ut{ht(){if(!this.Z.dsn)return super.ht();const t=this.Z.transportOptions?this.Z.transportOptions:{dsn:this.Z.dsn};return this.Z.transport?new this.Z.transport(t):C()?new Rt(t):new It(t)}eventFromException(n,e){let r;if(c(n)&&n.error){return n=n.error,r=xt($t(n)),U.resolve(this.Et(r,e))}if(u(n)||(i=n,"[object DOMException]"===Object.prototype.toString.call(i))){const r=n,i=r.name||(u(r)?"DOMError":"DOMException"),s=r.message?`${i}: ${r.message}`:i;return this.eventFromMessage(s,t.Severity.Error,e).then(t=>(g(t,s),U.resolve(this.Et(t,e))))}var i;if(o(n))return r=xt($t(n)),U.resolve(this.Et(r,e));if(l(n)&&e&&e.syntheticException){return g(r=function(t,n){const e=Object.keys(t).sort(),r={extra:{__serialized__:x(t)},message:`Non-Error exception captured with keys: ${F(e)}`};if(n){const t=St($t(n).stack);r.stacktrace={frames:t}}return r}(n,e.syntheticException),"Custom Object",void 0,{handled:!0,synthetic:!0,type:"generic"}),r.level=t.Severity.Error,U.resolve(this.Et(r,e))}const s=n;return this.eventFromMessage(s,void 0,e).then(n=>(g(n,`${s}`,void 0,{handled:!0,synthetic:!0,type:"generic"}),n.level=t.Severity.Error,U.resolve(this.Et(n,e))))}Et(t,n){return Object.assign({},t,{event_id:n&&n.event_id})}eventFromMessage(n,e=t.Severity.Info,r){const i={event_id:r&&r.event_id,level:e,message:n};if(this.Z.attachStacktrace&&r&&r.syntheticException){const t=St($t(r.syntheticException).stack);i.stacktrace={frames:t}}return U.resolve(i)}}const Ct="sentry.javascript.browser",Mt="5.1.0";class Lt extends ot{constructor(t={}){super(Ft,t)}ot(t,n,e){return t.platform=t.platform||"javascript",t.sdk=Object.assign({},t.sdk,{name:Ct,packages:[...t.sdk&&t.sdk.packages||[],{name:"npm:@sentry/browser",version:Mt}],version:Mt}),super.ot(t,n,e)}showReportDialog(t={}){const n=p().document;if(!n)return;if(!this.st())return void j.error("Trying to call showReportDialog with Sentry Client is disabled");const e=t.dsn||this.getDsn();if(!t.eventId)return void j.error("Missing `eventId` option in showReportDialog call");if(!e)return void j.error("Missing `Dsn` option in showReportDialog call");const r=n.createElement("script");r.async=!0,r.src=new rt(e).getReportDialogEndpoint(t),(n.head||n.body).appendChild(r)}}const Ut=1e3;let At,Pt,Nt=0;function Bt(t,n={},e){if("function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(n){return t}const sentryWrapped=function(){e&&"function"==typeof e&&e.apply(this,arguments);const r=Array.prototype.slice.call(arguments);try{const e=r.map(t=>Bt(t,n));return t.handleEvent?t.handleEvent.apply(this,e):t.apply(this,e)}catch(t){throw Nt+=1,setTimeout(()=>{Nt-=1}),Q(e=>{e.addEventProcessor(t=>{const e=Object.assign({},t);return n.mechanism&&g(e,void 0,void 0,n.mechanism),e.extra=Object.assign({},e.extra,{arguments:T(r,3)}),e}),captureException(t)}),t}};try{for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(sentryWrapped[n]=t[n])}catch(t){}t.prototype=t.prototype||{},sentryWrapped.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:sentryWrapped}),Object.defineProperties(sentryWrapped,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.defineProperty(sentryWrapped,"name",{get:()=>t.name})}catch(t){}return sentryWrapped}let Ht=0;function qt(t,n=!1){return e=>{if(At=void 0,!e||Pt===e)return;Pt=e;const r=()=>{let n;try{n=e.target?Xt(e.target):Xt(e)}catch(t){n="<unknown>"}0!==n.length&&G().addBreadcrumb({category:`ui.${t}`,message:n},{event:e,name:t})};Ht&&clearTimeout(Ht),n?Ht=setTimeout(r):r()}}function Wt(){return t=>{let n;try{n=t.target}catch(t){return}const e=n&&n.tagName;e&&("INPUT"===e||"TEXTAREA"===e||n.isContentEditable)&&(At||qt("input")(t),clearTimeout(At),At=setTimeout(()=>{At=void 0},Ut))}}function Xt(t){let n=t;const e=[];let r=0,i=0;const s=" > ".length;let o;for(;n&&r++<5&&!("html"===(o=zt(n))||r>1&&i+e.length*s+o.length>=80);)e.push(o),i+=o.length,n=n.parentNode;return e.reverse().join(" > ")}function zt(t){const n=[];let e,r,i,s,o;if(!t||!t.tagName)return"";if(n.push(t.tagName.toLowerCase()),t.id&&n.push(`#${t.id}`),(e=t.className)&&a(e))for(r=e.split(/\s+/),o=0;o<r.length;o++)n.push(`.${r[o]}`);const c=["type","name","title","alt"];for(o=0;o<c.length;o++)i=c[o],(s=t.getAttribute(i))&&n.push(`[${i}="${s}"]`);return n.join("")}class Gt{constructor(t){this.name=Gt.id,this.Z=Object.assign({onerror:!0,onunhandledrejection:!0},t)}setupOnce(){Error.stackTraceLimit=50,wt((t,n,e)=>{if(Nt>0)return;const r=G().getIntegration(Gt);r&&G().captureEvent(r.jt(t),{data:{stack:t},originalException:e})}),this.Z.onerror&&(j.log("Global Handler attached: onerror"),Et()),this.Z.onunhandledrejection&&(j.log("Global Handler attached: onunhandledrejection"),jt())}jt(t){const n=xt(t),e={mode:t.mode};t.message&&(e.message=t.message),t.name&&(e.name=t.name);const r=G().getClient(),i=r&&r.getOptions().maxValueLength||250;return g(n,t.original?I(JSON.stringify(T(t.original)),i):"","onunhandledrejection"===t.mechanism?"UnhandledRejection":"Error",{data:e,handled:!1,type:t.mechanism}),n}}Gt.id="GlobalHandlers";class Jt{constructor(){this.$t=0,this.name=Jt.id}Ot(t){return function(...n){const e=n[0];return n[0]=Bt(e,{mechanism:{data:{function:Vt(t)},handled:!0,type:"instrument"}}),t.apply(this,n)}}_t(t){return function(n){return t(Bt(n,{mechanism:{data:{function:"requestAnimationFrame",handler:Vt(t)},handled:!0,type:"instrument"}}))}}xt(t){const n=p(),e=n[t]&&n[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(O(e,"addEventListener",function(n){return function(e,r,i){try{r.handleEvent=Bt(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Vt(r),target:t},handled:!0,type:"instrument"}})}catch(t){}return n.call(this,e,Bt(r,{mechanism:{data:{function:"addEventListener",handler:Vt(r),target:t},handled:!0,type:"instrument"}}),i)}}),O(e,"removeEventListener",function(t){return function(n,e,r){let i=e;try{i=i&&(i.__sentry_wrapped__||i)}catch(t){}return t.call(this,n,i,r)}}))}setupOnce(){this.$t=this.$t;const t=p();O(t,"setTimeout",this.Ot.bind(this)),O(t,"setInterval",this.Ot.bind(this)),O(t,"requestAnimationFrame",this._t.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this.xt.bind(this))}}function Vt(t){try{return t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}Jt.id="TryCatch";const Kt=p();let Zt;class Qt{constructor(t){this.name=Qt.id,this.Z=Object.assign({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}St(){"console"in Kt&&["debug","info","warn","error","log","assert"].forEach(function(n){n in Kt.console&&O(Kt.console,n,function(e){return function(...r){const i={category:"console",data:{extra:{arguments:T(r,3)},logger:"console"},level:t.Severity.fromString(n),message:D(r," ")};"assert"===n&&!1===r[0]&&(i.message=`Assertion failed: ${D(r.slice(1)," ")||"console.assert"}`,i.data.extra.arguments=T(r.slice(1),3)),Qt.addBreadcrumb(i,{input:r,level:n}),e&&Function.prototype.apply.call(e,Kt.console,r)}})})}kt(){"document"in Kt&&(Kt.document.addEventListener("click",qt("click"),!1),Kt.document.addEventListener("keypress",Wt(),!1),["EventTarget","Node"].forEach(t=>{const n=Kt[t]&&Kt[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(O(n,"addEventListener",function(t){return function(n,e,r){return e.handleEvent?("click"===n&&O(e,"handleEvent",function(t){return function(n){return qt("click")(n),t.call(this,n)}}),"keypress"===n&&O(e,"handleEvent",Wt())):("click"===n&&qt("click",!0)(this),"keypress"===n&&Wt()(this)),t.call(this,n,e,r)}}),O(n,"removeEventListener",function(t){return function(n,e,r){let i=e;try{i=i&&(i.__sentry_wrapped__||i)}catch(t){}return t.call(this,n,i,r)}}))}))}Tt(){C()&&-1!==p().fetch.toString().indexOf("native")&&O(Kt,"fetch",function(n){return function(...e){const r=e[0];let i,s="GET";"string"==typeof r?i=r:"Request"in Kt&&r instanceof Request?(i=r.url,r.method&&(s=r.method)):i=String(r),e[1]&&e[1].method&&(s=e[1].method);const o=G().getClient(),c=o&&o.getDsn();if(c){const t=new rt(c).getStoreEndpoint();if(t&&i.includes(t))return"POST"===s&&e[1]&&e[1].body&&Yt(e[1].body),n.apply(Kt,e)}const u={method:s,url:i};return n.apply(Kt,e).then(t=>(u.status_code=t.status,Qt.addBreadcrumb({category:"fetch",data:u,type:"http"},{input:e,response:t}),t)).catch(n=>{throw Qt.addBreadcrumb({category:"fetch",data:u,level:t.Severity.Error,type:"http"},{error:n,input:e}),n})}})}Rt(){if(!function(){const t=p(),n=t.chrome,e=n&&n.app&&n.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!e&&r}())return;const t=(t,n)=>{const e=m(Kt.location.href),r=m(n);let i=m(t);i.path||(i=e),Zt=n,e.protocol===r.protocol&&e.host===r.host&&(n=r.relative),e.protocol===i.protocol&&e.host===i.host&&(t=i.relative),Qt.addBreadcrumb({category:"navigation",data:{from:t,to:n}})},n=Kt.onpopstate;function e(n){return function(...e){const r=e.length>2?e[2]:void 0;return r&&t(Zt,String(r)),n.apply(this,e)}}Kt.onpopstate=((...e)=>{const r=Kt.location.href;if(t(Zt,r),n)return n.apply(this,e)}),O(Kt.history,"pushState",e),O(Kt.history,"replaceState",e)}It(){if(!("XMLHttpRequest"in Kt))return;const t=XMLHttpRequest.prototype;O(t,"open",t=>(function(...n){const e=n[1];this.__sentry_xhr__={method:n[0],url:n[1]};const r=G().getClient(),i=r&&r.getDsn();if(i){const t=new rt(i).getStoreEndpoint();a(e)&&t&&e.includes(t)&&(this.__sentry_own_request__=!0)}return t.apply(this,n)})),O(t,"send",t=>(function(...n){const e=this;function r(){if(4===e.readyState){if(e.__sentry_own_request__)return;try{e.__sentry_xhr__&&(e.__sentry_xhr__.status_code=e.status)}catch(t){}Qt.addBreadcrumb({category:"xhr",data:e.__sentry_xhr__,type:"http"},{xhr:e})}}return e.__sentry_own_request__&&Yt(n[0]),["onload","onerror","onprogress"].forEach(t=>{!function(t,n){t in n&&"function"==typeof n[t]&&O(n,t,n=>Bt(n,{mechanism:{data:{function:t,handler:n&&n.name||"<anonymous>"},handled:!0,type:"instrument"}}))}(t,e)}),"onreadystatechange"in e&&"function"==typeof e.onreadystatechange?O(e,"onreadystatechange",function(t){return Bt(t,{mechanism:{data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}},r)}):e.onreadystatechange=r,t.apply(this,n)}))}static addBreadcrumb(t,n){G().getIntegration(Qt)&&G().addBreadcrumb(t,n)}setupOnce(){this.Z.console&&this.St(),this.Z.dom&&this.kt(),this.Z.xhr&&this.It(),this.Z.fetch&&this.Tt(),this.Z.history&&this.Rt()}}function Yt(n){try{const e=JSON.parse(n);Qt.addBreadcrumb({category:"sentry",event_id:e.event_id,level:e.level||t.Severity.fromString("error"),message:y(e)},{event:e})}catch(t){j.error("Error while adding sentry type breadcrumb")}}Qt.id="Breadcrumbs";const tn="cause",nn=5;class en{constructor(t={}){this.name=en.id,this.Dt=t.key||tn,this.u=t.limit||nn}setupOnce(){N((t,n)=>{const e=G().getIntegration(en);return e?e.handler(t,n):t})}handler(t,n){if(!(t.exception&&t.exception.values&&n&&n.originalException instanceof Error))return t;const e=this.walkErrorTree(n.originalException,this.Dt);return t.exception.values=[...e,...t.exception.values],t}walkErrorTree(t,n,e=[]){if(!(t[n]instanceof Error)||e.length+1>=this.u)return e;const r=_t($t(t[n]));return this.walkErrorTree(t[n],n,[r,...e])}}en.id="LinkedErrors";const rn=p();class sn{constructor(){this.name=sn.id}setupOnce(){N(t=>{if(G().getIntegration(sn)){if(!rn.navigator||!rn.location)return t;const n=t.request||{};return n.url=n.url||rn.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=rn.navigator.userAgent,Object.assign({},t,{request:n})}return t})}}sn.id="UserAgent";var on=Object.freeze({GlobalHandlers:Gt,TryCatch:Jt,Breadcrumbs:Qt,LinkedErrors:en,UserAgent:sn});const cn=[new ft,new ht,new Jt,new Qt,new Gt,new en,new sn];let un={};const an=p();an.Sentry&&an.Sentry.Integrations&&(un=an.Sentry.Integrations);const hn=Object.assign({},un,dt,on);return t.Integrations=hn,t.Transports=Dt,t.addGlobalEventProcessor=N,t.addBreadcrumb=function(t){Z("addBreadcrumb",t)},t.captureException=captureException,t.captureEvent=function(t){return Z("captureEvent",t)},t.captureMessage=function(t,n){let e;try{throw new Error(t)}catch(t){e=t}return Z("captureMessage",t,n,{originalException:t,syntheticException:e})},t.configureScope=function(t){Z("configureScope",t)},t.withScope=Q,t.getHubFromCarrier=V,t.getCurrentHub=G,t.Hub=W,t.Scope=A,t.BrowserClient=Lt,t.defaultIntegrations=cn,t.forceLoad=function(){},t.init=function(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=cn),function(t,n){!0===n.debug&&j.enable(),G().bindClient(new t(n))}(Lt,t)},t.lastEventId=function(){return G().lastEventId()},t.onLoad=function(t){t()},t.showReportDialog=function(t={}){t.eventId||(t.eventId=G().lastEventId());const n=G().getClient();n&&n.showReportDialog(t)},t.flush=function(t){return i(this,void 0,void 0,function*(){const n=G().getClient();return n?n.flush(t):Promise.reject(!1)})},t.close=function(t){return i(this,void 0,void 0,function*(){const n=G().getClient();return n?n.close(t):Promise.reject(!1)})},t.SDK_NAME=Ct,t.SDK_VERSION=Mt,t}({});
//# sourceMappingURL=bundle.es6.min.js.map
